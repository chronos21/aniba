{"version":3,"sources":["components/AppBar.js","components/GridItem.js","components/Loading.js","components/GridList.js","request/request.js","containers/Home.js","components/CommentItem.js","helper.js","containers/Comments.js","containers/Detail.js","components/ItemLists.js","containers/Series.js","components/GridWrap.js","containers/Search.js","containers/Stats.js","containers/Form.js","containers/NewData.js","containers/Auth.js","App.js","index.js"],"names":["AppBar","props","useState","input","setInput","history","useHistory","id","className","onClick","replace","action","method","onSubmit","e","preventDefault","push","handleSearch","type","name","placeholder","value","onChange","target","user","authenticated","to","GridItem","data","img","Show","href","releasedAt","moment","fromNow","src","alt","parentId","title","episodes","Loading","GridList","grid","React","createRef","scrollBooks","direction","current","scrollLeft","length","ref","map","item","key","_id","url","getHome","a","axios","get","console","log","body","postUrl","post","query","delete","comments","text","authorId","localStorage","getItem","setItem","Date","now","comment","Home","state","newReleases","featured","isLoading","featuredTotal","fecthNewReleases","setState","homeData","sessionStorage","dateExp","JSON","parse","total","fetchFeatured","featuredData","featuredExp","Math","max","Number","isNaN","i","document","this","stringify","content","Component","CommentItem","author","includes","split","substring","createdAt","Comments","setData","setLoading","commentInput","setComment","isPostLoading","setPostLoading","mobileFormStatus","setFormStatus","bottom","useRef","useEffect","fetchComments","getComments","then","res","catch","err","interval","setInterval","clearInterval","handleNewComment","postComment","scrollIntoView","behavior","showForm","bool","setTimeout","rows","autoFocus","Detail","episodeId","useParams","epData","getDetail","video","embed","width","height","controls","prev","all","next","ItemList","subtitle","Series","seriesId","getSeries","status","desc","GridWrapItem","GridWrap","Search","searchKey","getSearch","Stats","stats","setStats","isProcessing","setProcessing","getStats","handleDelete","deleteData","deletedCount","filter","Object","keys","NewData","inputs","setInputs","fields","setFields","setErr","handleChange","handleSubmit","clearInputs","postNewData","clear","onSuccess","onError","field","required","getFields","Form","login","register","Auth","goBack","username","setUser","App","auth","OneSignal","window","setExternalUserId","showSlidedownPrompt","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.50677f0b.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\n\nconst AppBar = (props) => {\n\tconst [ input, setInput ] = useState('');\n\n\tlet history = useHistory();\n\n\t// const logout = () => {\n\t// \tlet OneSignal = window.OneSignal || [];\n\t// \tOneSignal.push(function() {\n\t// \t\tOneSignal.removeExternalUserId();\n\t// \t});\n\t// \tlocalStorage.removeItem('userId');\n\t// \tprops.setUser({ id: '', name: '', authenticated: false });\n\t// };\n\n\tconst handleSearch = (e) => {\n\t\te.preventDefault();\n\t\thistory.push(`/search/${input}`);\n\t};\n\n\treturn (\n\t\t<div id=\"app-bar\">\n\t\t\t<div className=\"ui container small secondary menu\">\n\t\t\t\t<span className=\"item active cursor-pointer\" onClick={() => history.replace('/')}>\n\t\t\t\t\tH\n\t\t\t\t</span>\n\t\t\t\t<div className=\"item\" id=\"search-bar\">\n\t\t\t\t\t<form action=\"/search/\" method=\"GET\" className=\"ui icon input\" onSubmit={(e) => handleSearch(e)}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"q\"\n\t\t\t\t\t\t\tplaceholder=\"Search anime titles...\"\n\t\t\t\t\t\t\tvalue={input}\n\t\t\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<i className=\"search link icon\" />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t{!props.user.authenticated && (\n\t\t\t\t\t<Link to=\"/auth/login\" className=\"item active cursor-pointer\">\n\t\t\t\t\t\tAU\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AppBar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nconst GridItem = (props) => {\n\tif (!props.data.img && !props.data.Show) {\n\t\treturn <div />;\n\t}\n\n\treturn (\n\t\t<div className=\"grid-item\">\n\t\t\t<Link className=\"jumper\" to={props.data.href} />\n\t\t\t{props.data.releasedAt && (\n\t\t\t\t<div className=\"time\">\n\t\t\t\t\t<p>{moment(props.data.releasedAt).fromNow()}</p>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"ui placeholder\">\n\t\t\t\t<div className=\"image\">\n\t\t\t\t\t<img src={props.data.img} alt={props.data.parentId || props.data.title} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pl-5 mt-5\">\n\t\t\t\t<p className=\"f-bold ellipsis\">{props.data.parentId || props.data.title}</p>\n\t\t\t\t<p className=\"fs-0 ellipsis\">{props.data.episodes || props.data.title}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default GridItem;\n","import React from 'react';\n\nconst Loading = () => (\n\t<div className=\"text-center pt-20\">\n\t\t<div className=\"lds-ring\">\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t</div>\n\t</div>\n);\n\nexport default Loading;\n","import React from 'react';\nimport GridItem from './GridItem';\nimport Loading from './Loading';\n\nconst GridList = (props) => {\n\tlet grid = React.createRef();\n\n\tfunction scrollBooks(direction) {\n\t\tif (direction === 'right') {\n\t\t\tgrid.current.scrollLeft += 400;\n\t\t} else {\n\t\t\tgrid.current.scrollLeft -= 400;\n\t\t}\n\t}\n\treturn (\n\t\t<div className=\"grid-list\">\n\t\t\t<div className=\"float-right control hide-xs\">\n\t\t\t\t<span onClick={() => scrollBooks('left')}>‹</span>\n\t\t\t\t<span onClick={() => scrollBooks('right')}>›</span>\n\t\t\t</div>\n\t\t\t<h3 className=\"title\">{props.title}</h3>\n\n\t\t\t{!props.data || props.data.length === 0 ? (\n\t\t\t\t<div className=\"pt-20\">\n\t\t\t\t\t<Loading />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"grid-container\" ref={grid}>\n\t\t\t\t\t{props.data.map((item) => <GridItem key={item.id || item._id || item.title} data={item} />)}\n\t\t\t\t\t<div className=\"grid-spacer\">\n\t\t\t\t\t\t<img src=\"ic_launcher48.png\" alt=\"spacer\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default GridList;\n","import axios from 'axios';\n\nexport const url = 'https://anibaniba.herokuapp.com';\n\nexport async function getHome(key) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/home?json=true&${key}`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getFields() {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/stats/home/new`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function postNewData(body, type) {\n\ttry {\n\t\tlet postUrl = `${url}/api/stats/home/new`;\n\t\tif (type === 'login' || type === 'register') postUrl = `${url}/api/auth/${type}`;\n\t\tlet { data } = await axios.post(postUrl, body);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getDetail(id) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/episodes/${id}?json=true`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getSearch(query) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/search?json=true&q=${query}`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getSeries(id) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/series/${id}?json=true`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getStats(key) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/stats/${key}`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function deleteData(type, key) {\n\ttry {\n\t\tlet { data } = await axios.delete(`${url}/api/stats/${type}?${key}`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getComments(parentId) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/comments/${parentId}`);\n\t\treturn data.comments;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function postComment(parentId, text) {\n\tlet authorId = localStorage.getItem('userId');\n\n\tif (!authorId) authorId = localStorage.setItem('userId', Date.now());\n\tlet body = {\n\t\tauthorId,\n\t\tparentId,\n\t\ttext\n\t};\n\ttry {\n\t\tlet { data } = await axios.post(`${url}/api/comments/${parentId}`, body);\n\t\treturn data.comment;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n","import React, { Component } from 'react';\nimport GridList from '../components/GridList';\nimport { getHome } from '../request/request.js';\nimport Loading from '../components/Loading';\n\nclass Home extends Component {\n\tstate = {\n\t\tnewReleases: [],\n\t\tfeatured: [],\n\t\tisLoading: false,\n\t\tfeaturedTotal: 0\n\t};\n\n\tasync componentDidMount() {\n\t\tdocument.title = 'aniba - Watch free anime without ads!';\n\t\tawait this.fecthNewReleases();\n\t\tawait this.fetchFeatured();\n\t}\n\n\tfecthNewReleases = async () => {\n\t\tthis.setState({ isLoading: true });\n\n\t\tlet homeData = sessionStorage.getItem('home');\n\t\tlet dateExp = sessionStorage.getItem('homeExp');\n\t\tif ((Date.now() - dateExp) / 1000 <= 360 && homeData) {\n\t\t\thomeData = JSON.parse(homeData);\n\t\t} else {\n\t\t\tlet { data, total } = await getHome('type=new_releases');\n\t\t\thomeData = data;\n\t\t\tthis.setState({ featuredTotal: total });\n\t\t\tsessionStorage.setItem('homeExp', Date.now());\n\t\t}\n\n\t\tthis.setState({ newReleases: [ ...homeData ], isLoading: false });\n\t};\n\n\tfetchFeatured = async () => {\n\t\tlet featuredData = JSON.parse(sessionStorage.getItem(`featured`));\n\t\tlet featuredExp = sessionStorage.getItem(`featuredExp`);\n\t\tlet featuredTotal = sessionStorage.getItem(`featuredTotal`);\n\t\tfeaturedTotal = Math.max(this.state.featuredTotal, Number(featuredTotal));\n\t\tif (isNaN(Number(featuredTotal))) featuredTotal = 4;\n\t\tif ((Date.now() - featuredExp) / 240000 <= 1 && featuredData && featuredData.length === Number(featuredTotal)) {\n\t\t\tthis.setState({ featured: featuredData, isLoading: false });\n\t\t} else {\n\t\t\tfor (let i = 0; i < featuredTotal; i++) {\n\t\t\t\tthis.setState({ isLoading: true });\n\t\t\t\tlet { data } = await getHome(`type=browse&limit=1&skip=${i}`);\n\t\t\t\tthis.setState({ featured: [ ...this.state.featured, ...data ], isLoading: false });\n\t\t\t\tsessionStorage.setItem('featuredExp', Date.now());\n\t\t\t}\n\t\t}\n\t\tthis.setState({ featuredTotal });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tsessionStorage.setItem('featuredTotal', this.state.featuredTotal);\n\n\t\tif (this.state.newReleases.length > 0) {\n\t\t\tsessionStorage.setItem('home', JSON.stringify(this.state.newReleases));\n\t\t}\n\n\t\tif (this.state.featured.length > 0) {\n\t\t\tsessionStorage.setItem('featured', JSON.stringify(this.state.featured));\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"mb-40 pt-10\">\n\t\t\t\t<div className=\"grid-scroll-blocker\" />\n\t\t\t\t{this.state.newReleases.map((item) => (\n\t\t\t\t\t<GridList data={item.content} title={item.title} key={item._id} />\n\t\t\t\t))}\n\t\t\t\t{this.state.featured.map((item) => <GridList data={item.content} title={item.title} key={item._id} />)}\n\t\t\t\t{this.state.isLoading && <Loading />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport moment from 'moment';\nimport { setCommentName } from '../helper';\n\nconst CommentItem = (props) => {\n\treturn (\n\t\t<div className=\"comment\">\n\t\t\t<span className=\"avatar\">\n\t\t\t\t<img src=\"/avatar.jpg\" alt=\"avatar\" />\n\t\t\t</span>\n\t\t\t<div className=\"content\">\n\t\t\t\t<span className=\"author\">{setCommentName(props.data.authorId)}</span>\n\t\t\t\t<div className=\"metadata\">\n\t\t\t\t\t<span className=\"date\">{moment(props.data.createdAt).fromNow()}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text\">{props.data.text}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default CommentItem;\n","export function setCommentName(author) {\n\tif (author.includes('__')) {\n\t\tauthor = author.split('__')[1];\n\t} else {\n\t\tauthor = 'Anon [' + author.substring(9) + ']';\n\t}\n\n\treturn author;\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { getComments, postComment } from '../request/request';\nimport CommentItem from '../components/CommentItem';\nimport Loading from '../components/Loading';\n\nconst Comments = (props) => {\n\tconst [ data, setData ] = useState([]);\n\tconst [ isLoading, setLoading ] = useState(false);\n\tconst [ commentInput, setComment ] = useState('');\n\tconst [ isPostLoading, setPostLoading ] = useState(false);\n\tconst [ mobileFormStatus, setFormStatus ] = useState('hide');\n\tconst bottom = useRef();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tfunction fetchComments() {\n\t\t\t\tgetComments(props.parentId)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetData(res);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tsetLoading(true);\n\t\t\tfetchComments();\n\t\t\tconst interval = setInterval(() => fetchComments(), 45000);\n\t\t\treturn () => clearInterval(interval);\n\t\t},\n\t\t[ props.parentId ]\n\t);\n\n\tconst handleNewComment = (e) => {\n\t\tif (!isPostLoading) {\n\t\t\tsetPostLoading(true);\n\t\t\te.preventDefault();\n\t\t\tpostComment(props.parentId, commentInput).then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tsetData([ ...data, res ]);\n\t\t\t\t\tsetComment('');\n\t\t\t\t\tsetPostLoading(false);\n\t\t\t\t\tif (mobileFormStatus !== 'hide') {\n\t\t\t\t\t\tbottom.current.scrollIntoView({ behavior: 'smooth' });\n\t\t\t\t\t}\n\t\t\t\t\tshowForm(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetPostLoading(false);\n\t\t\t\t\tsetFormStatus(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst showForm = (bool) => {\n\t\tif (bool) {\n\t\t\tsetFormStatus('opacity-0');\n\t\t\tsetTimeout(() => setFormStatus('opacity-1'), 0);\n\t\t} else {\n\t\t\tsetFormStatus('opacity-0');\n\t\t\tsetComment('');\n\t\t\tsetTimeout(() => setFormStatus('hide'), 300);\n\t\t}\n\t};\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\n\treturn (\n\t\t<div className=\"mb-40 pt-10\">\n\t\t\t<h3 className=\"ui dividing header ellipsis pb-10\">{props.title}</h3>\n\t\t\t{!data || data.length === 0 ? (\n\t\t\t\t<p className=\"pb-20\">There's no comment</p>\n\t\t\t) : (\n\t\t\t\t<div className=\"ui comments\">{data.map((item) => <CommentItem data={item} key={item._id} />)}</div>\n\t\t\t)}\n\n\t\t\t<form className=\"ui reply form hide-xs\" id=\"comment-form\" onSubmit={(e) => handleNewComment(e)}>\n\t\t\t\t<div className=\"field\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"comment-box\"\n\t\t\t\t\t\trows=\"3\t\"\n\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\tvalue={commentInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className={`ui blue labeled ${isPostLoading ? 'loading' : ''} submit icon button`}>\n\t\t\t\t\t<i className=\"icon edit\" /> Add Reply\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<div className=\"my-1 hide-lg\" ref={bottom}>\n\t\t\t\t<button className=\"fluid ui blue button\" onClick={() => showForm(true)}>\n\t\t\t\t\tAdd Reply\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{mobileFormStatus !== 'hide' && (\n\t\t\t\t<div className={`fixed-form hide-lg ${mobileFormStatus}`}>\n\t\t\t\t\t<div className=\"dummy-space\" onClick={() => showForm(false)} />\n\t\t\t\t\t<form className=\"ui reply form\" onSubmit={(e) => handleNewComment(e)}>\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\t\t\tvalue={commentInput}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button className={`ui blue ${isPostLoading ? 'loading' : ''} button`}>Submit</button>\n\t\t\t\t\t\t<button className={`ui button`} type=\"button\" onClick={() => showForm(false)}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Comments;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams, Redirect } from 'react-router-dom';\nimport { getDetail, url } from '../request/request';\nimport Loading from '../components/Loading';\nimport Comments from './Comments';\n\nconst Detail = () => {\n\tconst [ data, setData ] = useState({});\n\tconst [ isLoading, setLoading ] = useState(true);\n\tconst { episodeId } = useParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tlet epData = localStorage.getItem(episodeId);\n\t\t\tif (epData) {\n\t\t\t\tepData = JSON.parse(epData);\n\t\t\t\tsetData(epData);\n\t\t\t\tsetLoading(false);\n\t\t\t} else {\n\t\t\t\tgetDetail(episodeId)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetData(res);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tepData = res;\n\t\t\t\t\t\tdocument.title = `Watch ${res.title} for free`;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (epData) localStorage.setItem(episodeId, JSON.stringify(epData));\n\t\t\t};\n\t\t},\n\t\t[ episodeId ]\n\t);\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\n\tif (!isLoading && !data.title) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"ui container\">\n\t\t\t\t<div className=\"full fixed-video\">\n\t\t\t\t\t<div className=\"video-container\">\n\t\t\t\t\t\t{data.video && (\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\tsrc={`${url}/api/video?url=${data.video}&embed=${data.embed}`}\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ui my-10 expanded-y\">\n\t\t\t\t\t\t<Link to={data.prev}>\n\t\t\t\t\t\t\t<i className=\"left chevron icon\" />\n\t\t\t\t\t\t\tPrev\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to={data.all}>All Episodes</Link>\n\t\t\t\t\t\t<Link to={data.next}>\n\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t<i className=\"right chevron icon\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"comment-section\">\n\t\t\t\t\t\t{episodeId && !isLoading && <Comments parentId={episodeId} title={data.title} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Detail;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ItemList = (props) => (\n\t<div className=\"ui relaxed selection list\">\n\t\t{props.data.map((item) => (\n\t\t\t<div className=\"item\" key={item.href}>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<Link className=\"header\" to={item.href}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"description\">{item.subtitle}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t))}\n\t</div>\n);\n\nexport default ItemList;\n","import React, { useState, useEffect } from 'react';\nimport ItemList from '../components/ItemLists';\nimport { getSeries } from '../request/request';\nimport { useParams, Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\n\nconst Series = () => {\n\tconst [ data, setData ] = useState({});\n\tconst [ isLoading, setLoading ] = useState(true);\n\tconst { seriesId } = useParams();\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tgetSeries(seriesId)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetData(res);\n\t\t\t\t\tdocument.title = `Watch ${res.title} for free without ads`;\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t},\n\t\t[ seriesId ]\n\t);\n\n\tif (!isLoading && !data.title) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"ui container mb-40\">\n\t\t\t\t<div className=\"ui grid\">\n\t\t\t\t\t<div className=\"large screen only four wide column\">\n\t\t\t\t\t\t<img className=\"series-img\" src={data.img} alt=\"cover\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"large screen only twelve wide column\">\n\t\t\t\t\t\t<h1>{data.title}</h1>\n\t\t\t\t\t\t<p>{data.status}</p>\n\t\t\t\t\t\t<p>{data.desc}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mobile only sixteen wide column\">\n\t\t\t\t\t\t<div className=\"series-img-m ui placeholder\">\n\t\t\t\t\t\t\t<div className=\"ui image\">\n\t\t\t\t\t\t\t\t<img width=\"100%\" height=\"200\" src={data.img} alt=\"cover\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1>{data.title}</h1>\n\t\t\t\t\t\t<p>{data.status}</p>\n\t\t\t\t\t\t<p>{data.desc}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{data && data.episodes && <ItemList data={data.episodes} />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Series;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst GridWrap = (props) => {\n\treturn (\n\t\t<div className=\"grid-wrap\">\n\t\t\t{props.data && props.data.map((item) => <GridWrapItem data={item} key={item.href} />)}\n\t\t</div>\n\t);\n};\n\nconst GridWrapItem = (props) => (\n\t<div className=\"wrap-item\">\n\t\t<div className=\"ui placeholder h-100\">\n\t\t\t<div className=\"image h-100\">\n\t\t\t\t<img src={props.data.img} alt={props.data.title} height=\"300\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<Link className=\"wrap-info\" to={props.data.href}>\n\t\t\t<div>\n\t\t\t\t<p className=\"f-bold ellipsis\">{props.data.title}</p>\n\t\t\t\t<p className=\"ellipsis\">{props.data.episodes}</p>\n\t\t\t\t<p className=\"ellipsis\">{props.data.status.replace('Status : ', '')}</p>\n\t\t\t</div>\n\t\t</Link>\n\t</div>\n);\n\nexport default GridWrap;\n","import React, { useState, useEffect } from 'react';\nimport { getSearch } from '../request/request';\nimport { useParams } from 'react-router-dom';\nimport GridWrap from '../components/GridWrap';\nimport Loading from '../components/Loading';\n\nconst Search = () => {\n\tconst [ data, setData ] = useState([]);\n\tconst [ isLoading, setLoading ] = useState(true);\n\tconst { searchKey } = useParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tgetSearch(searchKey)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetData(res);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\tdocument.title = 'results for: ' + searchKey;\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t},\n\t\t[ searchKey ]\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"ui container pb-10\">\n\t\t\t\t<h3>results for: {searchKey}</h3>\n\t\t\t</div>\n\n\t\t\t{!isLoading && data && data.length === 0 && <p className=\"text-center pt-10\">There's no result</p>}\n\t\t\t{isLoading ? <Loading /> : <GridWrap data={data} />}\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport { getStats, deleteData } from '../request/request';\nimport moment from 'moment';\nimport Loading from '../components/Loading';\nimport { Redirect, useParams, Link } from 'react-router-dom';\n\nconst Stats = () => {\n\tconst [ stats, setStats ] = useState([]);\n\tconst [ isLoading, setLoading ] = useState(false);\n\tconst { type } = useParams();\n\tconst [ isProcessing, setProcessing ] = useState(false);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tgetStats(type)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetStats(res.data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t},\n\t\t[ type ]\n\t);\n\n\tif (!isLoading & !stats) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tfunction handleDelete(type, key, value) {\n\t\tsetProcessing(true);\n\t\tdeleteData(type, `${key}=${value}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.deletedCount > 0) {\n\t\t\t\t\tsetStats(stats.filter((item) => item._id !== value));\n\t\t\t\t}\n\t\t\t\tsetProcessing(false);\n\t\t\t})\n\t\t\t.catch(() => setProcessing(false));\n\t}\n\n\treturn (\n\t\t<div className=\"ui container mb-40\">\n\t\t\t{isProcessing && <p className=\"fixed-right\">(processing...)</p>}\n\n\t\t\t<div className=\"five ui buttons pb-20\">\n\t\t\t\t<Link to=\"log\" className=\"ui button\">\n\t\t\t\t\tLog\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"comment\" className=\"ui button\">\n\t\t\t\t\tComment\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"episode\" className=\"ui button\">\n\t\t\t\t\tEpisode\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"series\" className=\"ui button\">\n\t\t\t\t\tSeires\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"home\" className=\"ui button\">\n\t\t\t\t\tHome\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t{isLoading ? (\n\t\t\t\t<Loading />\n\t\t\t) : (\n\t\t\t\tstats && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>stats: {type}</h3>\n\t\t\t\t\t\t<ol className=\"ui list\">\n\t\t\t\t\t\t\t{stats.map((item) => (\n\t\t\t\t\t\t\t\t<li key={item._id}>\n\t\t\t\t\t\t\t\t\t{item._id}\n\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(type, '_id', item._id)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right cursor-pointer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tdel\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(item).map((key, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (key !== '_id') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (key.includes('At')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{key}: {moment(item[key]).fromNow()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{key}: {JSON.stringify(item[key])}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <span key={i} />;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Stats;\n","import React, { useState, useEffect } from 'react';\nimport { postNewData } from '../request/request';\nimport Loading from '../components/Loading';\n\nconst NewData = (props) => {\n\tconst [ inputs, setInputs ] = useState({});\n\tconst [ isLoading, setLoading ] = useState(false);\n\tconst [ fields, setFields ] = useState([]);\n\tconst [ isProcessing, setProcessing ] = useState(false);\n\tconst [ err, setErr ] = useState('');\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tsetFields(props.fields);\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ props.fields ]\n\t);\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetInputs({ ...inputs, [name]: value });\n\t};\n\n\tfunction handleSubmit(e) {\n\t\tsetProcessing(true);\n\t\te.preventDefault();\n\t\tlet type = props.type;\n\t\tif (!type) return;\n\t\tif (!isProcessing) {\n\t\t\tlet clearInputs = {};\n\n\t\t\tpostNewData(inputs, type).then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tif (props.clear) {\n\t\t\t\t\t\tsetInputs(clearInputs);\n\t\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (props.onSuccess) {\n\t\t\t\t\t\tprops.onSuccess(res);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetErr('Something wrong with your input');\n\t\t\t\t\tif (props.onError) {\n\t\t\t\t\t\tprops.onError();\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (isLoading) return <Loading />;\n\n\treturn (\n\t\t<div className=\"ui container mb-40\">\n\t\t\t<h3 className=\"ui dividing header\">{props.title || 'Add a new home content'}</h3>\n\t\t\t<form className=\"ui form error\" onSubmit={(e) => handleSubmit(e)}>\n\t\t\t\t{fields &&\n\t\t\t\t\tfields.map((field) => (\n\t\t\t\t\t\t<div key={field.name || field} className=\"field\">\n\t\t\t\t\t\t\t<label className=\"capitalize\">{field.name || field}</label>\n\t\t\t\t\t\t\t{field.type ? (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype={field.type}\n\t\t\t\t\t\t\t\t\tvalue={inputs[field.name] || ''}\n\t\t\t\t\t\t\t\t\tname={field.name}\n\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\trequired={field.required}\n\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tvalue={inputs[field] || ''}\n\t\t\t\t\t\t\t\t\tname={field}\n\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t{err && <p className=\"color-red\">{err}</p>}\n\n\t\t\t\t<button className={`ui ${isProcessing ? 'loading' : ''} button`} type=\"submit\">\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default NewData;\n","import React, { useEffect, useState } from 'react';\nimport Form from './Form';\nimport { getFields } from '../request/request';\n\nconst NewData = () => {\n\tconst [ fields, setFields ] = useState({\n\t\ttitle: '',\n\t\tinputs: []\n\t});\n\n\tuseEffect(() => {\n\t\tgetFields().then((res) => {\n\t\t\tconsole.log(res);\n\t\t\tsetFields({ title: 'Add a new content to Home section', inputs: res.data });\n\t\t});\n\t}, []);\n\n\treturn <Form type=\"home\" title={fields.title} fields={fields.inputs} clear={true} />;\n};\n\nexport default NewData;\n","import React, { useEffect, useState } from 'react';\nimport Form from './Form';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst login = {\n\ttitle: 'Authorize Yourself',\n\tinputs: [\n\t\t{ name: 'username', type: 'text', required: true },\n\t\t{ name: 'password', type: 'password', required: true }\n\t]\n};\nconst register = {\n\ttitle: 'Register',\n\tinputs: [\n\t\t{ name: 'username', type: 'text', required: true },\n\t\t{ name: 'password', type: 'password', required: true }\n\t]\n};\n\nconst Auth = (props) => {\n\tconst [ fields, setFields ] = useState({\n\t\ttitle: '',\n\t\tinputs: []\n\t});\n\tlet history = useHistory();\n\tlet { type } = useParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tlet authorized = props.user.authenticated;\n\t\t\tif (authorized) {\n\t\t\t\thistory.goBack();\n\t\t\t}\n\t\t\tlet fields = [];\n\t\t\tif (type === 'login') {\n\t\t\t\tfields = login;\n\t\t\t} else if (type === 'register') {\n\t\t\t\tfields = register;\n\t\t\t}\n\t\t\tsetFields(fields);\n\t\t},\n\t\t[ type, history, props.user ]\n\t);\n\n\tconst onSuccess = (res) => {\n\t\tlocalStorage.setItem('userId', res.data._id + '__' + res.data.username);\n\t\tprops.setUser({\n\t\t\tid: res.data._id,\n\t\t\tname: res.data.username,\n\t\t\tauthenticated: true\n\t\t});\n\t\thistory.replace('/');\n\t};\n\n\tif (!fields || fields.inputs.length < 1) {\n\t\treturn <div />;\n\t}\n\n\treturn (\n\t\t<div id=\"auth\">\n\t\t\t<span className=\"fixed-right\">\n\t\t\t\t<span onClick={() => history.replace('register')} className=\"cursor-pointer f-bold\">\n\t\t\t\t\tRegister\n\t\t\t\t</span>\n\t\t\t\t<span>{'  |  '}</span>\n\t\t\t\t<span onClick={() => history.replace('/')} className=\" cursor-pointer f-bold\">\n\t\t\t\t\tSkip\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<Form\n\t\t\t\ttype={type}\n\t\t\t\ttitle={fields.title}\n\t\t\t\tfields={fields.inputs}\n\t\t\t\tonSuccess={onSuccess}\n\t\t\t\tclassName=\" cursor-pointer f-bold\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Auth;\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport AppBar from './components/AppBar';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from './containers/Home';\nimport Detail from './containers/Detail';\nimport Series from './containers/Series';\nimport Search from './containers/Search';\nimport Stats from './containers/Stats';\nimport NewData from './containers/NewData';\nimport Auth from './containers/Auth';\n\nconst App = () => {\n\tconst [ user, setUser ] = useState({\n\t\tid: '',\n\t\tname: '',\n\t\tauthenticated: false\n\t});\n\n\tuseEffect(() => {\n\t\tlet auth = localStorage.getItem('userId');\n\t\tif (auth) {\n\t\t\tauth = auth.split('__');\n\t\t\tif (auth[0] && auth[1]) {\n\t\t\t\tsetUser({\n\t\t\t\t\tid: auth[0],\n\t\t\t\t\tname: auth[1],\n\t\t\t\t\tauthenticated: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tlet OneSignal = window.OneSignal || [];\n\t\t\tif (user.authenticated) {\n\t\t\t\tOneSignal.push(function() {\n\t\t\t\t\tOneSignal.setExternalUserId(user.id);\n\t\t\t\t\tOneSignal.showSlidedownPrompt();\n\t\t\t\t});\n\t\t\t\t// console.log(OneSignal);\n\t\t\t}\n\t\t},\n\t\t[ user ]\n\t);\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<AppBar user={user} setUser={setUser} />\n\t\t\t\t<div className=\"spacer\" />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/auth/:type\">\n\t\t\t\t\t\t<Auth user={user} setUser={setUser} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/stats/home/new\">\n\t\t\t\t\t\t<NewData />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/stats/:type\">\n\t\t\t\t\t\t<Stats />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/series/:seriesId\">\n\t\t\t\t\t\t<Series />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/search/:searchKey\">\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/:episodeId\">\n\t\t\t\t\t\t<Detail />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}