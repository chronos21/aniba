{"version":3,"sources":["components/GridItem.js","components/Loading.js","components/GridList.js","request/request.js","containers/Tab.js","containers/Home.js","components/AppBar.js","components/CommentItem.js","helper.js","containers/Comments.js","containers/Detail.js","components/ItemLists.js","containers/Series.js","components/GridWrap.js","containers/Search.js","containers/Stats.js","containers/Form.js","containers/NewData.js","containers/Auth.js","containers/Followed.js","App.js","index.js"],"names":["GridItem","props","data","img","Show","className","to","href","releasedAt","moment","fromNow","src","alt","parentId","title","episodes","Loading","GridList","grid","React","createRef","scrollBooks","direction","current","scrollLeft","onClick","length","ref","map","item","key","id","_id","getHome","a","axios","get","console","log","userId","localStorage","getItem","seriesId","includes","post","body","type","postUrl","query","delete","comments","text","authorId","setItem","Date","now","comment","TabItem","active","handleClick","label","icon","Tab","history","useHistory","replace","Home","useState","homeData","setData","isLoading","setLoading","useEffect","allData","silent","storedHomeData","sessionStorage","JSON","parse","fecthNewReleases","total","fetchFeatured","featuredTotal","i","stringify","content","AppBar","input","setInput","showHome","action","method","onSubmit","e","preventDefault","push","handleSearch","autoFocus","name","placeholder","value","onChange","target","auth","CommentItem","author","split","substring","createdAt","Comments","commentInput","setComment","isPostLoading","setPostLoading","mobileFormStatus","setFormStatus","replyBtn","useRef","fetchComments","getComments","then","res","catch","err","interval","setInterval","clearInterval","handleNewComment","postComment","scrollIntoView","behavior","showForm","bool","setTimeout","rows","Detail","episodeId","useParams","epData","getDetail","document","video","embed","width","height","controls","prev","all","next","ItemList","subtitle","Series","isFollowed","setFollowed","getSeries","followedBy","handleFollow","postFollowedSeries","note","status","desc","GridWrapItem","GridWrap","Search","setKey","searchKey","storedSearchKey","storedData","Array","isArray","trim","getSearch","Stats","stats","setStats","isProcessing","setProcessing","getStats","handleDelete","deleteData","deletedCount","filter","Object","keys","NewData","inputs","setInputs","fields","setFields","setErr","handleChange","handleSubmit","clearInputs","postNewData","clear","onSuccess","onError","field","required","getFields","Form","login","register","Auth","user","authenticated","username","setUser","Followed","getFollowedSeries","App","OneSignal","window","setExternalUserId","showSlidedownPrompt","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e9cffdb0.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nconst GridItem = (props) => {\n\tif (!props.data.img && !props.data.Show) {\n\t\treturn <div />;\n\t}\n\n\treturn (\n\t\t<div className=\"grid-item\">\n\t\t\t<Link className=\"jumper\" to={props.data.href} />\n\t\t\t{props.data.releasedAt && (\n\t\t\t\t<div className=\"time\">\n\t\t\t\t\t<p>{moment(props.data.releasedAt).fromNow()}</p>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"ui placeholder\">\n\t\t\t\t<div className=\"image\">\n\t\t\t\t\t<img src={props.data.img} alt={props.data.parentId || props.data.title} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"pl-5 mt-5\">\n\t\t\t\t<p className=\"f-bold ellipsis\">{props.data.parentId || props.data.title}</p>\n\t\t\t\t<p className=\"fs-0 ellipsis\">{props.data.episodes || props.data.title}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default GridItem;\n","import React from 'react';\n\nconst Loading = () => (\n\t<div className=\"text-center pt-30\">\n\t\t<div className=\"lds-ring\">\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t\t<div />\n\t\t</div>\n\t</div>\n);\n\nexport default Loading;\n","import React from 'react';\nimport GridItem from './GridItem';\nimport Loading from './Loading';\n\nconst GridList = (props) => {\n\tlet grid = React.createRef();\n\n\tfunction scrollBooks(direction) {\n\t\tif (direction === 'right') {\n\t\t\tgrid.current.scrollLeft += 1000;\n\t\t} else {\n\t\t\tgrid.current.scrollLeft -= 1000;\n\t\t}\n\t}\n\treturn (\n\t\t<div className=\"grid-list\">\n\t\t\t<div className=\"float-right control hide-xs\">\n\t\t\t\t<span onClick={() => scrollBooks('left')}>‹</span>\n\t\t\t\t<span onClick={() => scrollBooks('right')}>›</span>\n\t\t\t</div>\n\t\t\t<h3 className=\"title\">{props.title}</h3>\n\n\t\t\t{!props.data || props.data.length === 0 ? (\n\t\t\t\t<div className=\"pt-20\">\n\t\t\t\t\t<Loading />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t\t<div className=\"grid-container\" ref={grid}>\n\t\t\t\t\t\t{props.data.map((item) => <GridItem key={item.id || item._id || item.title} data={item} />)}\n\t\t\t\t\t\t<div className=\"grid-spacer\">\n\t\t\t\t\t\t\t<img src=\"ic_launcher48.png\" alt=\"spacer\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default GridList;\n","import axios from 'axios';\n\nexport const url = '';\n\nexport async function getHome(key) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/home?json=true&${key}`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getFields() {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/stats/home/new`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getFollowedSeries() {\n\ttry {\n\t\tlet userId = localStorage.getItem('userId')\n\t\tlet { data } = await axios.get(`${url}/api/user/${userId}/followed`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function postFollowedSeries(seriesId) {\n\ttry {\n\t\tlet userId = localStorage.getItem('userId')\n\t\tif (!userId.includes('__')) return\n\t\tlet { data } = await axios.post(`${url}/api/user/${userId}/followed/${seriesId}`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function postNewData(body, type) {\n\ttry {\n\t\tlet postUrl = `${url}/api/stats/home/new`;\n\t\tif (type === 'login' || type === 'register') postUrl = `${url}/api/auth/${type}`;\n\t\tlet { data } = await axios.post(postUrl, body);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getDetail(id) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/episodes/${id}?json=true`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getSearch(query) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/search?json=true&q=${query}`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getSeries(id) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/series/${id}?json=true`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getStats(key) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/stats/${key}`);\n\t\treturn data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function deleteData(type, key) {\n\ttry {\n\t\tlet { data } = await axios.delete(`${url}/api/stats/${type}?${key}`);\n\t\treturn data.data;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function getComments(parentId) {\n\ttry {\n\t\tlet { data } = await axios.get(`${url}/api/comments/${parentId}`);\n\t\treturn data.comments;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n\nexport async function postComment(parentId, text) {\n\tlet authorId = localStorage.getItem('userId');\n\n\tif (!authorId) authorId = localStorage.setItem('userId', Date.now());\n\tlet body = {\n\t\tauthorId,\n\t\tparentId,\n\t\ttext\n\t};\n\ttry {\n\t\tlet { data } = await axios.post(`${url}/api/comments/${parentId}`, body);\n\t\treturn data.comment;\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst Tab = ({ active }) => {\n\tlet history = useHistory()\n\tconst tabs = [\n\t\t{ label: \"Home\", icon: \"Ho\", href: \"/\" },\n\t\t{ label: \"Search\", icon: \"Se\", href: \"/search\" },\n\t\t{ label: \"Followed\", icon: \"Fw\", href: \"/followed\" }\n\t];\n\n\tconst handleClick = (href) => {\n\t\thistory.replace(href)\n\t}\n\n\treturn (\n\t\t<div className=\"hide-lg\">\n\t\t\t<div className=\"tab-container\">\n\t\t\t\t{tabs.map(item => (\n\t\t\t\t\t<TabItem data={item}\n\t\t\t\t\t\thandleClick={handleClick}\n\t\t\t\t\t\tkey={item.icon}\n\t\t\t\t\t\tactive={active}></TabItem>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst TabItem = ({ data, active, handleClick }) => {\n\treturn (\n\t\t<div\n\t\t\tonClick={() => handleClick(data.href)}\n\t\t\tclassName={`tab-item ${active === data.label ? \"tab-active\" : \"\"}`}\n\t\t>\n\t\t\t<p className=\"tab-icon\">{data.icon}</p>\n\t\t\t<p className=\"tab-label\">{data.label}</p>\n\t\t</div >\n\t);\n};\n\nexport default Tab;\n","import React, { useState, useEffect } from \"react\";\nimport GridList from \"../components/GridList\";\nimport { getHome } from \"../request/request.js\";\nimport Loading from \"../components/Loading\";\nimport Tab from \"./Tab\";\n\nconst Home = () => {\n\tconst [homeData, setData] = useState([])\n\tconst [isLoading, setLoading] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetLoading(true)\n\t\tlet allData = []\n\t\tlet silent = false\n\n\t\tlet storedHomeData = sessionStorage.getItem('homeData')\n\n\t\tif (storedHomeData) {\n\t\t\tstoredHomeData = JSON.parse(storedHomeData)\n\t\t\tsetData(storedHomeData)\n\t\t\tsilent = true\n\t\t\tsetLoading(false)\n\t\t}\n\n\t\tconst fecthNewReleases = async () => {\n\t\t\tlet { data, total } = await getHome(\"type=new_releases\");\n\t\t\tif (!silent) {\n\t\t\t\tsetData(data)\n\t\t\t}\n\t\t\tallData = [...data]\n\t\t\tsetLoading(false)\n\t\t\tfetchFeatured(total)\n\t\t};\n\n\t\tconst fetchFeatured = async (featuredTotal) => {\n\t\t\tfor (let i = 0; i < featuredTotal; i++) {\n\t\t\t\tif (!silent) {\n\t\t\t\t\tsetLoading(true)\n\t\t\t\t}\n\t\t\t\tlet { data } = await getHome(`type=browse&limit=1&skip=${i}`);\n\t\t\t\tif (!silent) {\n\t\t\t\t\tsetData(homeData => [...homeData, ...data])\n\t\t\t\t}\n\t\t\t\tallData = [...allData, ...data]\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t\tsetData(allData)\n\t\t\tsessionStorage.setItem('homeData', JSON.stringify(allData))\n\n\t\t}\n\t\tfecthNewReleases()\n\t}, [])\n\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"mb-40 pt-sm-20 mb-sm-70 page-fade-in\">\n\t\t\t\t<div className=\"grid-scroll-blocker\" />\n\t\t\t\t{homeData.map(item => (\n\t\t\t\t\t<GridList\n\t\t\t\t\t\tdata={item.content}\n\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t\t{isLoading && <Loading />}\n\t\t\t</div>\n\t\t\t<Tab active=\"Home\"></Tab>\n\t\t</div>\n\t);\n\n}\n\nexport default Home\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\n\nconst AppBar = (props) => {\n\tconst [input, setInput] = useState('');\n\n\tlet history = useHistory();\n\n\tconst handleSearch = (e) => {\n\t\te.preventDefault();\n\t\thistory.push(`/search/${input}`);\n\t};\n\n\treturn (\n\t\t<div id=\"app-bar\">\n\t\t\t<div className=\"ui container small secondary menu\">\n\t\t\t\t{props.showHome &&\n\t\t\t\t\t<span className=\"item active cursor-pointer\" onClick={() => history.replace('/')}>\n\t\t\t\t\t\tH\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\t<div className=\"item\" id=\"search-bar\">\n\t\t\t\t\t<form action=\"/search/\" method=\"GET\" className=\"ui icon input\" onSubmit={(e) => handleSearch(e)}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tautoFocus={props.autoFocus}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"q\"\n\t\t\t\t\t\t\tplaceholder=\"Search anime titles...\"\n\t\t\t\t\t\t\tvalue={input}\n\t\t\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<i className=\"search link icon\" />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t{props.auth &&\n\t\t\t\t\t<Link className=\"item active cursor-pointer\" to=\"/auth/login\">\n\t\t\t\t\t\tAU\n\t\t\t\t\t</Link>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AppBar;\n","import React from 'react';\nimport moment from 'moment';\nimport { setCommentName } from '../helper';\n\nconst CommentItem = (props) => {\n\treturn (\n\t\t<div className=\"comment\">\n\t\t\t<span className=\"avatar\">\n\t\t\t\t<img src=\"/avatar.jpg\" alt=\"avatar\" />\n\t\t\t</span>\n\t\t\t<div className=\"content\">\n\t\t\t\t<span className=\"author\">{setCommentName(props.data.authorId)}</span>\n\t\t\t\t<div className=\"metadata\">\n\t\t\t\t\t<span className=\"date\">{moment(props.data.createdAt).fromNow()}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text\">{props.data.text}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default CommentItem;\n","export function setCommentName(author) {\n\tif (author.includes('__')) {\n\t\tauthor = author.split('__')[1];\n\t} else {\n\t\tauthor = 'Anon [' + author.substring(9) + ']';\n\t}\n\n\treturn author;\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { getComments, postComment } from '../request/request';\nimport CommentItem from '../components/CommentItem';\nimport Loading from '../components/Loading';\n\nconst Comments = (props) => {\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setLoading] = useState(false);\n\tconst [commentInput, setComment] = useState('');\n\tconst [isPostLoading, setPostLoading] = useState(false);\n\tconst [mobileFormStatus, setFormStatus] = useState('hide');\n\tconst replyBtn = useRef()\n\n\tuseEffect(\n\t\t() => {\n\t\t\tfunction fetchComments() {\n\t\t\t\tgetComments(props.parentId)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetData(res);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tsetLoading(true);\n\t\t\tfetchComments();\n\t\t\tconst interval = setInterval(() => fetchComments(), 45000);\n\t\t\treturn () => clearInterval(interval);\n\t\t},\n\t\t[props.parentId]\n\t);\n\n\tconst handleNewComment = (e) => {\n\t\tif (!isPostLoading) {\n\t\t\tsetPostLoading(true);\n\t\t\te.preventDefault();\n\t\t\tpostComment(props.parentId, commentInput).then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tsetData([...data, res]);\n\t\t\t\t\tsetComment('');\n\t\t\t\t\tsetPostLoading(false);\n\t\t\t\t\tif (mobileFormStatus !== 'hide') {\n\t\t\t\t\t\treplyBtn.current.scrollIntoView({ behavior: 'smooth' })\n\t\t\t\t\t\tshowForm(false)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetPostLoading(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst showForm = (bool) => {\n\t\tif (bool) {\n\t\t\tsetFormStatus('opacity-0');\n\t\t\tsetTimeout(() => setFormStatus('opacity-1'), 0);\n\t\t} else {\n\t\t\tsetFormStatus('opacity-0');\n\t\t\tsetComment('')\n\t\t\tsetTimeout(() => setFormStatus('hide'), 300);\n\t\t}\n\t};\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\n\treturn (\n\t\t<div className=\"mb-40 pt-10\">\n\t\t\t<h3 className=\"ui dividing header ellipsis pb-10\">{props.title}</h3>\n\t\t\t{!data || data.length === 0 ? (\n\t\t\t\t<p className=\"pb-20\">There's no comment</p>\n\t\t\t) : (\n\t\t\t\t\t<div className=\"ui comments\">{data.map((item) => <CommentItem data={item} key={item._id} />)}</div>\n\t\t\t\t)}\n\n\t\t\t<form className=\"ui reply form hide-xs\" id=\"comment-form\" onSubmit={(e) => handleNewComment(e)}>\n\t\t\t\t<div className=\"field\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tid=\"comment-box\"\n\t\t\t\t\t\trows=\"3\t\"\n\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\tvalue={commentInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className={`ui blue labeled ${isPostLoading ? 'loading' : ''} submit icon button`}>\n\t\t\t\t\t<i className=\"icon edit\" /> Add Reply\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<div className=\"my-1 hide-lg\" ref={replyBtn} >\n\t\t\t\t<button className=\"fluid ui blue button\" onClick={() => showForm(true)}>\n\t\t\t\t\tAdd Reply\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{mobileFormStatus !== 'hide' && (\n\t\t\t\t<div className={`fixed-form ${mobileFormStatus}`}>\n\t\t\t\t\t<div className=\"dummy-space\" onClick={() => showForm(false)} />\n\t\t\t\t\t<form className=\"ui reply form\" onSubmit={(e) => handleNewComment(e)}>\n\t\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\t\t\tvalue={commentInput}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button className={`ui blue ${isPostLoading ? 'loading' : ''} button`}>Submit</button>\n\t\t\t\t\t\t<button className={`ui button`} type=\"button\" onClick={() => showForm(false)}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Comments;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useParams, Redirect } from 'react-router-dom';\nimport { getDetail, url } from '../request/request';\nimport Loading from '../components/Loading';\nimport AppBar from '../components/AppBar';\nimport Comments from './Comments';\n\nconst Detail = () => {\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setLoading] = useState(true);\n\tconst { episodeId } = useParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tlet epData = localStorage.getItem(episodeId);\n\t\t\tif (epData) {\n\t\t\t\tepData = JSON.parse(epData);\n\t\t\t\tsetData(epData);\n\t\t\t\tsetLoading(false);\n\t\t\t} else {\n\t\t\t\tgetDetail(episodeId)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tsetData(res);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tepData = res;\n\t\t\t\t\t\tdocument.title = `Watch ${res.title} for free`;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (epData) localStorage.setItem(episodeId, JSON.stringify(epData));\n\t\t\t};\n\t\t},\n\t\t[episodeId]\n\t);\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\n\tif (!isLoading && !data.title) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\treturn (\n\t\t<div className=\"page-fade-in\">\n\t\t\t<div className=\"hide-lg\">\n\t\t\t\t<AppBar showHome={true}></AppBar>\n\t\t\t\t<div className=\"spacer\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"ui container\">\n\t\t\t\t<div className=\"full fixed-video\">\n\t\t\t\t\t<div className=\"video-container\">\n\t\t\t\t\t\t{data.video && (\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\tsrc={`${url}/api/video?url=${data.video}&embed=${data.embed}`}\n\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ui my-10 expanded-y mx-10\">\n\t\t\t\t\t\t<Link to={data.prev}>\n\t\t\t\t\t\t\t‹ Prev\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to={data.all}>All Episodes</Link>\n\t\t\t\t\t\t<Link to={data.next}>\n\t\t\t\t\t\t\tNext ›\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"comment-section\">\n\t\t\t\t\t\t{episodeId && !isLoading && <Comments parentId={episodeId} title={data.title} />}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Detail;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ItemList = (props) => (\n\t<div className=\"ui relaxed selection list\">\n\t\t{props.data.map((item) => (\n\t\t\t<div className=\"item\" key={item.href}>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<Link className=\"header\" to={item.href}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"description\">{item.subtitle}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t))}\n\t</div>\n);\n\nexport default ItemList;\n","import React, { useState, useEffect } from 'react';\nimport ItemList from '../components/ItemLists';\nimport { getSeries, postFollowedSeries } from '../request/request';\nimport { useParams, Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport AppBar from '../components/AppBar';\n\nconst Series = () => {\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setLoading] = useState(true);\n\tconst [isFollowed, setFollowed] = useState(false);\n\tconst { seriesId } = useParams();\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tgetSeries(seriesId)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetData(res);\n\t\t\t\t\tif (res.followedBy && res.followedBy.length > 0) {\n\t\t\t\t\t\tlet userId = localStorage.getItem('userId').split('__')[0]\n\t\t\t\t\t\tif (res.followedBy.includes(userId)) {\n\t\t\t\t\t\t\tsetFollowed(true)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdocument.title = `Watch ${res.title} for free without ads`;\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t},\n\t\t[seriesId]\n\t);\n\n\tconst handleFollow = () => {\n\t\tpostFollowedSeries(seriesId).then(res => {\n\t\t\tif (res) {\n\t\t\t\tif (res.note === 'FOLLOWED') {\n\t\t\t\t\tsetFollowed(true)\n\t\t\t\t} else if (res.note === 'UNFOLLOWED') {\n\t\t\t\t\tsetFollowed(false)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tif (!isLoading && !data.title) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tif (isLoading) {\n\t\treturn <Loading />;\n\t}\n\treturn (\n\t\t<div className=\"page-fade-in\">\n\t\t\t<div className=\"hide-lg\">\n\t\t\t\t<AppBar showHome={true}></AppBar>\n\t\t\t\t<div className=\"spacer\"></div>\n\t\t\t</div>\n\n\t\t\t<div className=\"ui container mb-40\">\n\t\t\t\t<div className=\"ui grid\">\n\t\t\t\t\t<div className=\"large screen only four wide column\">\n\t\t\t\t\t\t<img className=\"series-img\" src={data.img} alt=\"cover\" />\n\t\t\t\t\t\t<div className=\"hide-sm\">\n\t\t\t\t\t\t\t<button className={`fluid ui ${isFollowed ? 'red' : 'blue'} button`} onClick={handleFollow}>\n\t\t\t\t\t\t\t\t{isFollowed ? 'Unfollow' : 'Follow'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"large screen only twelve wide column\">\n\t\t\t\t\t\t<h1>{data.title}</h1>\n\t\t\t\t\t\t<p>{data.status}</p>\n\t\t\t\t\t\t<p>{data.desc}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mobile only sixteen wide column\">\n\t\t\t\t\t\t<div className=\"series-img-m ui placeholder\">\n\t\t\t\t\t\t\t<div className=\"ui image\">\n\t\t\t\t\t\t\t\t<img width=\"100%\" height=\"200\" src={data.img} alt=\"cover\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1>{data.title}</h1>\n\t\t\t\t\t\t<p>{data.status}</p>\n\t\t\t\t\t\t<p>{data.desc}</p>\n\t\t\t\t\t\t<div className=\"mt-15 text-center px-20\">\n\t\t\t\t\t\t\t<button className={`fluid ui ${isFollowed ? 'red' : 'blue'} button`} onClick={handleFollow}>\n\t\t\t\t\t\t\t\t{isFollowed ? 'Unfollow' : 'Follow'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{data && data.episodes && <ItemList data={data.episodes} />}\n\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Series;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst GridWrap = (props) => {\n\treturn (\n\t\t<div className=\"grid-wrap\">\n\t\t\t{props.data && props.data.map((item) => <GridWrapItem data={item} key={item.href} />)}\n\t\t</div>\n\t);\n};\n\nconst GridWrapItem = (props) => (\n\t<div className=\"wrap-item\">\n\t\t<div className=\"ui placeholder h-100\">\n\t\t\t<div className=\"image h-100\">\n\t\t\t\t<img src={props.data.img} alt={props.data.title} height=\"300\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<Link className=\"wrap-info\" to={props.data.href}>\n\t\t\t<div>\n\t\t\t\t<p className=\"f-bold ellipsis\">{props.data.title}</p>\n\t\t\t\t<p className=\"ellipsis\">{props.data.episodes}</p>\n\t\t\t\t<p className=\"ellipsis\">{props.data.status.replace('Status : ', '')}</p>\n\t\t\t</div>\n\t\t</Link>\n\t</div>\n);\n\nexport default GridWrap;\n","import React, { useState, useEffect } from \"react\";\nimport { getSearch } from \"../request/request\";\nimport { useParams } from \"react-router-dom\";\nimport GridWrap from \"../components/GridWrap\";\nimport Loading from \"../components/Loading\";\nimport AppBar from \"../components/AppBar\";\nimport Tab from \"./Tab\";\n\nconst Search = () => {\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setLoading] = useState(true);\n\tconst [key, setKey] = useState()\n\tlet { searchKey } = useParams();\n\n\n\tuseEffect(() => {\n\t\tlet storedSearchKey = sessionStorage.getItem('searchKey')\n\t\tif (storedSearchKey && !searchKey) {\n\t\t\tsetKey(storedSearchKey)\n\t\t} else {\n\t\t\tsetKey(searchKey)\n\t\t}\n\t}, [searchKey])\n\n\tuseEffect(() => {\n\t\tif (key) {\n\t\t\tlet storedSearchKey = sessionStorage.getItem('searchKey')\n\t\t\tlet storedData = JSON.parse(sessionStorage.getItem('searchData'))\n\t\t\tsetLoading(true)\n\n\t\t\tif (storedSearchKey && Array.isArray(storedData) && key === storedSearchKey) {\n\t\t\t\tsetData(storedData)\n\t\t\t\tdocument.title = \"results for: \" + key;\n\t\t\t\tsetLoading(false)\n\t\t\t} else if (key && key.trim().length > 0) {\n\t\t\t\tsetLoading(true);\n\t\t\t\tconsole.log('triggered')\n\t\t\t\tsessionStorage.setItem('searchKey', key)\n\t\t\t\tgetSearch(key)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tsetData(res);\n\t\t\t\t\t\tsessionStorage.setItem('searchData', JSON.stringify(res))\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tdocument.title = \"results for: \" + key;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\t}, [key]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"page-fade-in\">\n\t\t\t\t<div className=\"hide-lg\">\n\t\t\t\t\t<AppBar autoFocus={true}></AppBar>\n\t\t\t\t\t<div className=\"spacer\"></div>\n\t\t\t\t</div>\n\t\t\t\t{key && key.trim().length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"ui container  pb-10\">\n\t\t\t\t\t\t\t<h3>results for: {key}</h3>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{!isLoading && data && data.length === 0 && (\n\t\t\t\t\t\t\t<p className=\"text-center pt-10\">There's no result</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t<Loading />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"mb-40\">\n\t\t\t\t\t\t\t\t\t<GridWrap data={data} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Tab active=\"Search\"></Tab>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import React, { useState, useEffect } from 'react';\nimport { getStats, deleteData } from '../request/request';\nimport moment from 'moment';\nimport Loading from '../components/Loading';\nimport { Redirect, useParams, Link } from 'react-router-dom';\n\nconst Stats = () => {\n\tconst [ stats, setStats ] = useState([]);\n\tconst [ isLoading, setLoading ] = useState(false);\n\tconst { type } = useParams();\n\tconst [ isProcessing, setProcessing ] = useState(false);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tgetStats(type)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetStats(res.data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t},\n\t\t[ type ]\n\t);\n\n\tif (!isLoading & !stats) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tfunction handleDelete(type, key, value) {\n\t\tsetProcessing(true);\n\t\tdeleteData(type, `${key}=${value}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.deletedCount > 0) {\n\t\t\t\t\tsetStats(stats.filter((item) => item._id !== value));\n\t\t\t\t}\n\t\t\t\tsetProcessing(false);\n\t\t\t})\n\t\t\t.catch(() => setProcessing(false));\n\t}\n\n\treturn (\n\t\t<div className=\"ui container mb-40\">\n\t\t\t{isProcessing && <p className=\"fixed-right\">(processing...)</p>}\n\n\t\t\t<div className=\"five ui buttons pb-20\">\n\t\t\t\t<Link to=\"log\" className=\"ui button\">\n\t\t\t\t\tLog\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"comment\" className=\"ui button\">\n\t\t\t\t\tComment\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"episode\" className=\"ui button\">\n\t\t\t\t\tEpisode\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"series\" className=\"ui button\">\n\t\t\t\t\tSeires\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"home\" className=\"ui button\">\n\t\t\t\t\tHome\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t{isLoading ? (\n\t\t\t\t<Loading />\n\t\t\t) : (\n\t\t\t\tstats && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>stats: {type}</h3>\n\t\t\t\t\t\t<ol className=\"ui list\">\n\t\t\t\t\t\t\t{stats.map((item) => (\n\t\t\t\t\t\t\t\t<li key={item._id}>\n\t\t\t\t\t\t\t\t\t{item._id}\n\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(type, '_id', item._id)}\n\t\t\t\t\t\t\t\t\t\tclassName=\"float-right cursor-pointer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tdel\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t{Object.keys(item).map((key, i) => {\n\t\t\t\t\t\t\t\t\t\t\tif (key !== '_id') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (key.includes('At')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{key}: {moment(item[key]).fromNow()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{key}: {JSON.stringify(item[key])}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <span key={i} />;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Stats;\n","import React, { useState, useEffect } from 'react';\nimport { postNewData } from '../request/request';\nimport Loading from '../components/Loading';\n\nconst NewData = (props) => {\n\tconst [ inputs, setInputs ] = useState({});\n\tconst [ isLoading, setLoading ] = useState(false);\n\tconst [ fields, setFields ] = useState([]);\n\tconst [ isProcessing, setProcessing ] = useState(false);\n\tconst [ err, setErr ] = useState('');\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsetLoading(true);\n\t\t\tsetFields(props.fields);\n\t\t\tsetLoading(false);\n\t\t},\n\t\t[ props.fields ]\n\t);\n\n\tconst handleChange = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tsetInputs({ ...inputs, [name]: value });\n\t};\n\n\tfunction handleSubmit(e) {\n\t\tsetProcessing(true);\n\t\te.preventDefault();\n\t\tlet type = props.type;\n\t\tif (!type) return;\n\t\tif (!isProcessing) {\n\t\t\tlet clearInputs = {};\n\n\t\t\tpostNewData(inputs, type).then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tif (props.clear) {\n\t\t\t\t\t\tsetInputs(clearInputs);\n\t\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\t}\n\t\t\t\t\tif (props.onSuccess) {\n\t\t\t\t\t\tprops.onSuccess(res);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetErr('Something wrong with your input');\n\t\t\t\t\tif (props.onError) {\n\t\t\t\t\t\tprops.onError();\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (isLoading) return <Loading />;\n\n\treturn (\n\t\t<div className=\"ui container mb-40\">\n\t\t\t<h3 className=\"ui dividing header\">{props.title || 'Add a new home content'}</h3>\n\t\t\t<form className=\"ui form error\" onSubmit={(e) => handleSubmit(e)}>\n\t\t\t\t{fields &&\n\t\t\t\t\tfields.map((field) => (\n\t\t\t\t\t\t<div key={field.name || field} className=\"field\">\n\t\t\t\t\t\t\t<label className=\"capitalize\">{field.name || field}</label>\n\t\t\t\t\t\t\t{field.type ? (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype={field.type}\n\t\t\t\t\t\t\t\t\tvalue={inputs[field.name] || ''}\n\t\t\t\t\t\t\t\t\tname={field.name}\n\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\trequired={field.required}\n\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tvalue={inputs[field] || ''}\n\t\t\t\t\t\t\t\t\tname={field}\n\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t{err && <p className=\"color-red\">{err}</p>}\n\n\t\t\t\t<button className={`ui ${isProcessing ? 'loading' : ''} button`} type=\"submit\">\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default NewData;\n","import React, { useEffect, useState } from 'react';\nimport Form from './Form';\nimport { getFields } from '../request/request';\n\nconst NewData = () => {\n\tconst [ fields, setFields ] = useState({\n\t\ttitle: '',\n\t\tinputs: []\n\t});\n\n\tuseEffect(() => {\n\t\tgetFields().then((res) => {\n\t\t\tconsole.log(res);\n\t\t\tsetFields({ title: 'Add a new content to Home section', inputs: res.data });\n\t\t});\n\t}, []);\n\n\treturn <Form type=\"home\" title={fields.title} fields={fields.inputs} clear={true} />;\n};\n\nexport default NewData;\n","import React, { useEffect, useState } from 'react';\nimport Form from './Form';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst login = {\n\ttitle: 'Authorize Yourself',\n\tinputs: [\n\t\t{ name: 'username', type: 'text', required: true },\n\t\t{ name: 'password', type: 'password', required: true }\n\t]\n};\nconst register = {\n\ttitle: 'Register',\n\tinputs: [\n\t\t{ name: 'username', type: 'text', required: true },\n\t\t{ name: 'password', type: 'password', required: true }\n\t]\n};\n\nconst Auth = (props) => {\n\tconst [fields, setFields] = useState({\n\t\ttitle: '',\n\t\tinputs: []\n\t});\n\tlet history = useHistory();\n\tlet { type } = useParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tlet authorized = props.user.authenticated;\n\t\t\tif (authorized) {\n\t\t\t\thistory.replace('/followed');\n\t\t\t}\n\t\t\tlet fields = [];\n\t\t\tif (type === 'login') {\n\t\t\t\tfields = login;\n\t\t\t} else if (type === 'register') {\n\t\t\t\tfields = register;\n\t\t\t}\n\t\t\tsetFields(fields);\n\t\t},\n\t\t[type, history, props.user]\n\t);\n\n\tconst onSuccess = (res) => {\n\t\tlocalStorage.setItem('userId', res.data._id + '__' + res.data.username);\n\t\thistory.replace('/');\n\t\tprops.setUser({\n\t\t\tid: res.data._id,\n\t\t\tname: res.data.username,\n\t\t\tauthenticated: true\n\t\t});\n\t};\n\n\tif (!fields || fields.inputs.length < 1) {\n\t\treturn <div />;\n\t}\n\n\treturn (\n\t\t<div id=\"auth\" className=\"page-fade-in\">\n\t\t\t<span className=\"fixed-right\">\n\t\t\t\t{type === 'login' ?\n\t\t\t\t\t<span onClick={() => history.replace('register')} className=\"cursor-pointer f-bold\">\n\t\t\t\t\t\tRegister\n\t\t\t\t\t</span>\n\t\t\t\t\t:\n\t\t\t\t\t<span onClick={() => history.replace('login')} className=\"cursor-pointer f-bold\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\t<span>{'  |  '}</span>\n\t\t\t\t<span onClick={() => history.replace('/')} className=\" cursor-pointer f-bold\">\n\t\t\t\t\tSkip\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<Form\n\t\t\t\ttype={type}\n\t\t\t\ttitle={fields.title}\n\t\t\t\tfields={fields.inputs}\n\t\t\t\tonSuccess={onSuccess}\n\t\t\t\tclassName=\" cursor-pointer f-bold\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Auth;\n","import React, { useEffect, useState } from \"react\";\nimport { getFollowedSeries } from \"../request/request\";\nimport GridWrap from \"../components/GridWrap\";\nimport Loading from \"../components/Loading\";\nimport Tab from \"./Tab\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst Followed = () => {\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tdocument.title = \"aniba - Your followed animes\";\n\t\tlet storedData = sessionStorage.getItem('followedData')\n\t\tif (storedData) storedData = JSON.parse(storedData)\n\t\tif (Array.isArray(storedData) && storedData.length > 0) {\n\t\t\tsetData(storedData)\n\t\t\tsetLoading(false)\n\t\t}\n\n\t\tgetFollowedSeries()\n\t\t\t.then(res => {\n\t\t\t\tif (res && res.data) {\n\t\t\t\t\tsetData(res.data);\n\t\t\t\t\tsessionStorage.setItem('followedData', JSON.stringify(res.data))\n\t\t\t\t}\n\t\t\t\tsetLoading(false);\n\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"page-fade-in\">\n\t\t\t\t<div className=\"pt-sm-20\">\n\t\t\t\t\t<div className=\"ui container pb-10\">\n\t\t\t\t\t\t<h3>Your Animes</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{!isLoading && data && data.length === 0 && (\n\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t{localStorage.getItem('userId') ?\n\t\t\t\t\t\t\t\t<p className=\"text-center pt-10\">\n\t\t\t\t\t\t\t\t\tYou have nothing. Open a series and click follow!\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Link to=\"/auth/register\" className=\"my-1 fluid ui blue button\">Authorize</Link>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t<Loading />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"mb-40\">\n\t\t\t\t\t\t\t\t<GridWrap data={data} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Tab active=\"Followed\"></Tab>\n\t\t</div>\n\t);\n};\n\nexport default Followed;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport Detail from \"./containers/Detail\";\nimport Series from \"./containers/Series\";\nimport Search from \"./containers/Search\";\nimport Stats from \"./containers/Stats\";\nimport NewData from \"./containers/NewData\";\nimport Auth from \"./containers/Auth\";\nimport Followed from \"./containers/Followed\";\nimport AppBar from \"./components/AppBar\";\n\nconst App = () => {\n\tconst [user, setUser] = useState({\n\t\tid: \"\",\n\t\tname: \"\",\n\t\tauthenticated: false\n\t});\n\n\tuseEffect(() => {\n\t\tlet auth = localStorage.getItem(\"userId\");\n\t\tif (auth) {\n\t\t\tauth = auth.split(\"__\");\n\t\t\tif (auth[0] && auth[1]) {\n\t\t\t\tsetUser({\n\t\t\t\t\tid: auth[0],\n\t\t\t\t\tname: auth[1],\n\t\t\t\t\tauthenticated: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tlet OneSignal = window.OneSignal || [];\n\t\tif (user.authenticated) {\n\t\t\tOneSignal.push(function () {\n\t\t\t\tOneSignal.setExternalUserId(user.id);\n\t\t\t\tOneSignal.showSlidedownPrompt();\n\t\t\t});\n\t\t}\n\t}, [user]);\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<div className=\"hide-xs\">\n\t\t\t\t\t<AppBar showHome={true} auth={true}></AppBar>\n\t\t\t\t\t<div className=\"spacer\"></div>\n\t\t\t\t</div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/auth/:type\">\n\t\t\t\t\t\t<Auth user={user} setUser={setUser} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/stats/home/new\">\n\t\t\t\t\t\t<NewData />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/stats/:type\">\n\t\t\t\t\t\t<Stats />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/series/:seriesId\">\n\t\t\t\t\t\t<Series />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/search/:searchKey\">\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/search\">\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/followed\">\n\t\t\t\t\t\t<Followed />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/:episodeId\">\n\t\t\t\t\t\t<Detail />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}